#!/usr/bin/env ruby

require 'bundler/setup'
require 'classroom_automator/script_util'
require 'classroom_automator/task/enable_disable_ci'

include ClassroomAutomator

usage_message  = "Usage: #{File.basename($0)} ASSIGNMENT-CONF"
opts = ScriptUtil::DefaultOptionParser.new(usage_message).parse(ARGV)
abort usage_message if ARGV.length != 1

ScriptUtil::run_task(
  ScriptUtil::task_with_context_config_and_assignment_config(
    Task::EnableCI, opts[:context], ARGV[0]
  )
)
